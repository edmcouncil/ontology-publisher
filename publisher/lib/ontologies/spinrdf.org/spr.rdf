<?xml version="1.0"?>
<rdf:RDF
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:spin="http://spinrdf.org/spin#"
    xmlns:sp="http://spinrdf.org/sp#"
    xmlns:smf="http://topbraid.org/sparqlmotionfunctions#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:spif="http://spinrdf.org/spif#"
    xmlns:spr="http://spinrdf.org/spr#"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:spl="http://spinrdf.org/spl#"
  xml:base="http://spinrdf.org/spr">
  <owl:Ontology rdf:about="">
    <owl:versionInfo rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >1.0.0</owl:versionInfo>
    <owl:imports rdf:resource="http://spinrdf.org/spl"/>
    <rdfs:seeAlso rdf:resource="http://spinrdf.org/spr.html"/>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >A collection of SPIN functions that can be used to query, traverse and aggregate tabular data.</rdfs:comment>
  </owl:Ontology>
  <rdfs:Class rdf:ID="Aggregator">
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Aggregator</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >A pair of SPARQL functions that can be used to aggregate values of a SPR table. Instances of this class can be passed into the various aggregateXY functions.</rdfs:comment>
  </rdfs:Class>
  <rdfs:Class rdf:ID="TableClass">
    <rdfs:subClassOf rdf:resource="http://www.w3.org/2000/01/rdf-schema#Class"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Table class</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Metaclass of classes that can represent tabular data. The classes that have this metaclass as their type need to specify SPARQL/SPIN functions for various look up tasks.</rdfs:comment>
  </rdfs:Class>
  <rdf:Property rdf:ID="cellFunction">
    <rdfs:subPropertyOf>
      <rdf:Property rdf:ID="systemProperty"/>
    </rdfs:subPropertyOf>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >cell function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <rdf:Property rdf:ID="startValue">
    <rdfs:subPropertyOf>
      <rdf:Property rdf:about="#systemProperty"/>
    </rdfs:subPropertyOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >start value</rdfs:label>
    <rdfs:domain rdf:resource="#Aggregator"/>
  </rdf:Property>
  <rdf:Property rdf:ID="resultFunction">
    <rdfs:subPropertyOf>
      <rdf:Property rdf:about="#systemProperty"/>
    </rdfs:subPropertyOf>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >result function</rdfs:label>
    <rdfs:domain rdf:resource="#Aggregator"/>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The URI of the SPIN Function that shall be called at the end of the steps.</rdfs:comment>
  </rdf:Property>
  <rdf:Property rdf:ID="colCountFunction">
    <rdfs:subPropertyOf>
      <rdf:Property rdf:about="#systemProperty"/>
    </rdfs:subPropertyOf>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >colCount function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <rdf:Property rdf:about="#systemProperty">
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >system property</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >An "abstract" base property that groups together those system properties that the user will hardly ever need to see in property trees. This property may be dropped in future versions of this ontology - right now it's mainly here for convenience.</rdfs:comment>
  </rdf:Property>
  <rdf:Property rdf:ID="colTypeFunction">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >colType function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <rdf:Property rdf:ID="colWidthFunction">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >colWidth function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <rdf:Property rdf:ID="rowCountFunction">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >rowCount function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <rdf:Property rdf:about="http://spinrdf.org/sp#arg6">
    <rdfs:subPropertyOf rdf:resource="http://spinrdf.org/sp#arg"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >arg6</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The sixth argument of a function call.</rdfs:comment>
  </rdf:Property>
  <rdf:Property rdf:ID="stepFunction">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >step function</rdfs:label>
    <rdfs:domain rdf:resource="#Aggregator"/>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The URI of the SPIN Function that shall be called at each step.</rdfs:comment>
  </rdf:Property>
  <rdf:Property rdf:ID="colNameFunction">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:range rdf:resource="http://spinrdf.org/spin#Function"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >colName function</rdfs:label>
    <rdfs:domain rdf:resource="#TableClass"/>
  </rdf:Property>
  <spin:MagicProperty rdf:ID="colCells">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:subClassOf>
      <spin:MagicProperty rdf:ID="MagicProperties">
        <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
        <rdfs:subClassOf rdf:resource="http://spinrdf.org/spin#MagicProperties"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Magic SPR properties</rdfs:label>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:MagicProperty>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >col cells</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Iterates over all rows of a given table (left side, ?arg1) at column ?arg2 and binds the variable on the right with the cell values. The second variable on the right may be bound to the row index as well.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The column index, starting at zero.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to get the values for.</rdfs:comment>
        <spl:valueType>
          <spr:TableClass rdf:ID="Table">
            <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >Table</rdfs:label>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >Base class of table classes. Must define the URIs of low-level SPARQL functions that are used by SPR to access individual table cells and table meta data.</rdfs:comment>
          </spr:TableClass>
        </spl:valueType>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate>
              <spin:MagicProperty rdf:ID="rowIndices">
                <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
                <rdfs:subClassOf rdf:resource="#MagicProperties"/>
                <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                >row indices</rdfs:label>
                <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                >Iterates over all rows of a given table (left side, ?arg1) and binds the variable on the right with the index of the rows.</rdfs:comment>
                <spin:constraint>
                  <spl:Argument>
                    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                    >The spr:Table to get the row indexes of.</rdfs:comment>
                    <spl:valueType rdf:resource="#Table"/>
                    <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
                  </spl:Argument>
                </spin:constraint>
                <spin:body>
                  <sp:Select>
                    <sp:where rdf:parseType="Collection">
                      <sp:Bind>
                        <sp:variable rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >lastIndex</sp:varName>
                        </sp:variable>
                        <sp:expression>
                          <sp:sub>
                            <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                            >1</sp:arg2>
                            <sp:arg1>
                              <spr:rowCount>
                                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                              </spr:rowCount>
                            </sp:arg1>
                          </sp:sub>
                        </sp:expression>
                      </sp:Bind>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >index</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.topbraid.org/tops#for"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#first"/>
                        <sp:object rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                        >0</sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#first"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >lastIndex</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"/>
                        <sp:object rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
                      </rdf:Description>
                    </sp:where>
                    <sp:resultVariables rdf:parseType="Collection">
                      <rdf:Description>
                        <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                        >index</sp:varName>
                      </rdf:Description>
                    </sp:resultVariables>
                  </sp:Select>
                </spin:body>
              </spin:MagicProperty>
            </sp:predicate>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >row</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >value</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:cell>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >row</sp:varName>
                </sp:arg2>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
              </spr:cell>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >value</sp:varName>
          </rdf:Description>
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >row</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:MagicProperty>
  <spin:Function rdf:ID="AggregatorResultFunctions">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="Functions">
        <rdfs:subClassOf rdf:resource="http://spinrdf.org/spin#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >SPR Functions</rdfs:label>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Base class of various SPR related functions.</rdfs:comment>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Aggregator result functions</rdfs:label>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The total number of steps.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The end result after stepping through the values.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
    >true</spin:abstract>
  </spin:Function>
  <spin:Function rdf:ID="colType">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="ColTypeFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Column type functions</rdfs:label>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The column index, starting at zero.</rdfs:comment>
            <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
          </spl:Argument>
        </spin:constraint>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The table to get the column name for.</rdfs:comment>
            <spl:valueType rdf:resource="#Table"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
          </spl:Argument>
        </spin:constraint>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >column type</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the (data) type of a column, if this information is present. The datatype may be derived from spin:Columns attached to the table data provider.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2000/01/rdf-schema#Class"/>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:subject>
            <sp:predicate rdf:resource="#colTypeFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <spif:invoke>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:arg1 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >function</sp:varName>
                </sp:arg1>
              </spif:invoke>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <spr:Aggregator rdf:ID="Avg">
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Avg</rdfs:label>
    <spr:stepFunction rdf:resource="http://spinrdf.org/sp#add"/>
    <spr:startValue rdf:datatype="http://www.w3.org/2001/XMLSchema#double"
    >0</spr:startValue>
    <spr:resultFunction rdf:resource="http://spinrdf.org/sp#divide"/>
  </spr:Aggregator>
  <spin:Function rdf:ID="aggregateRow">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="AggregatorFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Aggregator functions</rdfs:label>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The spr:Table to iterate over.</rdfs:comment>
            <spl:valueType rdf:resource="#Table"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
          </spl:Argument>
        </spin:constraint>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The aggregator to perform.</rdfs:comment>
            <spl:valueType rdf:resource="#Aggregator"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
          </spl:Argument>
        </spin:constraint>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >aggregate row</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Applies the spr:Aggregator ?arg1 to all columns of row ?arg3 of spr:Table ?arg2.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The row index.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="#stepFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >stepFunction</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="#startValue"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >startValue</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Optional>
            <sp:elements rdf:parseType="Collection">
              <rdf:Description>
                <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:predicate rdf:resource="#resultFunction"/>
                <sp:object rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >resultFunction</sp:varName>
                </sp:object>
              </rdf:Description>
            </sp:elements>
          </sp:Optional>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >colCount</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:colCount>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg2"/>
              </spr:colCount>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >stepped</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:visitRow>
                <sp:arg6 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >startValue</sp:varName>
                </sp:arg6>
                <sp:arg5 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >stepFunction</sp:varName>
                </sp:arg5>
                <sp:arg4>
                  <sp:sub>
                    <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                    >1</sp:arg2>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >colCount</sp:varName>
                    </sp:arg1>
                  </sp:sub>
                </sp:arg4>
                <sp:arg3 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                >0</sp:arg3>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg2"/>
              </spr:visitRow>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >stepped</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spif:invoke>
                    <sp:arg3 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >colCount</sp:varName>
                    </sp:arg3>
                    <sp:arg2 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >stepped</sp:varName>
                    </sp:arg2>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >resultFunction</sp:varName>
                    </sp:arg1>
                  </spif:invoke>
                </sp:arg2>
                <sp:arg1>
                  <sp:bound>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >resultFunction</sp:varName>
                    </sp:arg1>
                  </sp:bound>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <spin:Function rdf:ID="colWidth">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="ColWidthFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Column width functions</rdfs:label>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The column index, starting at zero.</rdfs:comment>
            <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
          </spl:Argument>
        </spin:constraint>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The table to get the column name for.</rdfs:comment>
            <spl:valueType rdf:resource="#Table"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
          </spl:Argument>
        </spin:constraint>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >column width</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the width (in pixels) of a given column. This may have been derived from spin:Columns attached to the table data provider.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:subject>
            <sp:predicate rdf:resource="#colWidthFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <spif:invoke>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:arg1 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >function</sp:varName>
                </sp:arg1>
              </spif:invoke>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <spr:Aggregator rdf:ID="Sum">
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Sum</rdfs:label>
    <spr:stepFunction rdf:resource="http://spinrdf.org/sp#add"/>
    <spr:startValue rdf:datatype="http://www.w3.org/2001/XMLSchema#double"
    >0</spr:startValue>
  </spr:Aggregator>
  <spin:Function rdf:ID="isEmpty">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="RowCountFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Row count functions</rdfs:label>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The spr:Table to get the number of rows for.</rdfs:comment>
            <spl:valueType rdf:resource="#Table"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
          </spl:Argument>
        </spin:constraint>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >is empty</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Checks whether a given SPR table has zero rows.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#boolean"/>
    <spin:body>
      <sp:Ask>
        <sp:where rdf:parseType="Collection">
          <sp:Filter>
            <sp:expression>
              <sp:eq>
                <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                >0</sp:arg2>
                <sp:arg1>
                  <spr:rowCount>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                  </spr:rowCount>
                </sp:arg1>
              </sp:eq>
            </sp:expression>
          </sp:Filter>
        </sp:where>
      </sp:Ask>
    </spin:body>
  </spin:Function>
  <spin:Function rdf:ID="hasCell">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="CellFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Cell functions</rdfs:label>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >hasCell</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Checks if there is a cell value in a given Table (?arg1) at a given row (?arg2) and column (?arg3).</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#boolean"/>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The column index, starting at 0.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The row index, starting at 0.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to get the cell value of.</rdfs:comment>
        <spl:valueType rdf:resource="#Table"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Ask>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:subject>
            <sp:predicate rdf:resource="#cellFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <spif:invoke>
                <sp:arg4 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:arg1 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >function</sp:varName>
                </sp:arg1>
              </spif:invoke>
            </sp:expression>
          </sp:Bind>
          <sp:Filter>
            <sp:expression>
              <sp:bound>
                <sp:arg1 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >result</sp:varName>
                </sp:arg1>
              </sp:bound>
            </sp:expression>
          </sp:Filter>
        </sp:where>
      </sp:Ask>
    </spin:body>
  </spin:Function>
  <spin:Function rdf:ID="aggregateCol">
    <rdfs:subClassOf rdf:resource="#AggregatorFunctions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >aggregate row</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Applies the spr:Aggregator ?arg1 to all rows of column ?arg3 of spr:Table ?arg2.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The column index.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="#stepFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >stepFunction</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="#startValue"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >startValue</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Optional>
            <sp:elements rdf:parseType="Collection">
              <rdf:Description>
                <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:predicate rdf:resource="#resultFunction"/>
                <sp:object rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >resultFunction</sp:varName>
                </sp:object>
              </rdf:Description>
            </sp:elements>
          </sp:Optional>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >rowCount</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:rowCount>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg2"/>
              </spr:rowCount>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >stepped</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:visitCol>
                <sp:arg6 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >startValue</sp:varName>
                </sp:arg6>
                <sp:arg5 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >stepFunction</sp:varName>
                </sp:arg5>
                <sp:arg4>
                  <sp:sub>
                    <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                    >1</sp:arg2>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >rowCount</sp:varName>
                    </sp:arg1>
                  </sp:sub>
                </sp:arg4>
                <sp:arg3 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                >0</sp:arg3>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg2"/>
              </spr:visitCol>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >stepped</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spif:invoke>
                    <sp:arg3 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >rowCount</sp:varName>
                    </sp:arg3>
                    <sp:arg2 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >stepped</sp:varName>
                    </sp:arg2>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >resultFunction</sp:varName>
                    </sp:arg1>
                  </spif:invoke>
                </sp:arg2>
                <sp:arg1>
                  <sp:bound>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >resultFunction</sp:varName>
                    </sp:arg1>
                  </sp:bound>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <spin:Function rdf:ID="colName">
    <rdfs:subClassOf>
      <spin:Function rdf:ID="ColNameFunctions">
        <rdfs:subClassOf rdf:resource="#Functions"/>
        <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >Column name functions</rdfs:label>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The column index, starting at zero.</rdfs:comment>
            <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
          </spl:Argument>
        </spin:constraint>
        <spin:constraint>
          <spl:Argument>
            <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >The table to get the column name for.</rdfs:comment>
            <spl:valueType rdf:resource="#Table"/>
            <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
          </spl:Argument>
        </spin:constraint>
        <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
        >true</spin:abstract>
      </spin:Function>
    </rdfs:subClassOf>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >column name</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the name of a column in a given result set. The name is usually derived from the variable name, but may also originate from spin:Columns attached to the table data provider.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#string"/>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:object>
          </rdf:Description>
          <rdf:Description>
            <sp:subject rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:subject>
            <sp:predicate rdf:resource="#colNameFunction"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <spif:invoke>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                <sp:arg1 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >function</sp:varName>
                </sp:arg1>
              </spif:invoke>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <spin:Function rdf:ID="AggregatorStepFunctions">
    <rdfs:subClassOf rdf:resource="#Functions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Aggregator step functions</rdfs:label>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The current cell value that shall be aggregated on top of ?arg1.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The old value to start with, e.g. 0 for SUM.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
    >true</spin:abstract>
  </spin:Function>
  <spin:MagicProperty rdf:ID="rowCells">
    <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
    <rdfs:subClassOf rdf:resource="#MagicProperties"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >row cells</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Iterates over all colums of a given table (left side, ?arg1) at row ?arg2 and binds the variable on the right with the cell values. The second variable on the right may be bound to the column index as well.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The row index, starting at zero.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to get the values for.</rdfs:comment>
        <spl:valueType rdf:resource="#Table"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <rdf:Description>
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate>
              <spin:MagicProperty rdf:ID="colIndices">
                <rdfs:subPropertyOf rdf:resource="#systemProperty"/>
                <rdfs:subClassOf rdf:resource="#MagicProperties"/>
                <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                >row indices</rdfs:label>
                <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                >Iterates over all columns of a given table (left side, ?arg1) and binds the variable on the right with the index of the columns.</rdfs:comment>
                <spin:constraint>
                  <spl:Argument>
                    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                    >The spr:Table to get the row indexes of.</rdfs:comment>
                    <spl:valueType rdf:resource="#Table"/>
                    <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
                  </spl:Argument>
                </spin:constraint>
                <spin:body>
                  <sp:Select>
                    <sp:where rdf:parseType="Collection">
                      <sp:Bind>
                        <sp:variable rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >lastIndex</sp:varName>
                        </sp:variable>
                        <sp:expression>
                          <sp:sub>
                            <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                            >1</sp:arg2>
                            <sp:arg1>
                              <spr:colCount>
                                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                              </spr:colCount>
                            </sp:arg1>
                          </sp:sub>
                        </sp:expression>
                      </sp:Bind>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >index</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.topbraid.org/tops#for"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#first"/>
                        <sp:object rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                        >0</sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?0</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#first"/>
                        <sp:object rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >lastIndex</sp:varName>
                        </sp:object>
                      </rdf:Description>
                      <rdf:Description>
                        <sp:subject rdf:parseType="Resource">
                          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                          >?1</sp:varName>
                        </sp:subject>
                        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"/>
                        <sp:object rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
                      </rdf:Description>
                    </sp:where>
                    <sp:resultVariables rdf:parseType="Collection">
                      <rdf:Description>
                        <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                        >index</sp:varName>
                      </rdf:Description>
                    </sp:resultVariables>
                  </sp:Select>
                </spin:body>
              </spin:MagicProperty>
            </sp:predicate>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >col</sp:varName>
            </sp:object>
          </rdf:Description>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >value</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:cell>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >col</sp:varName>
                </sp:arg3>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
              </spr:cell>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >value</sp:varName>
          </rdf:Description>
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >col</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:MagicProperty>
  <spr:Aggregator rdf:ID="Product">
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Product</rdfs:label>
    <spr:stepFunction rdf:resource="http://spinrdf.org/sp#mul"/>
    <spr:startValue rdf:datatype="http://www.w3.org/2001/XMLSchema#double"
    >1</spr:startValue>
  </spr:Aggregator>
  <spin:Function rdf:ID="visitCol">
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The current aggregate value.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg6"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The step function.</rdfs:comment>
        <spl:valueType rdf:resource="http://spinrdf.org/spin#Function"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg5"/>
      </spl:Argument>
    </spin:constraint>
    <rdfs:subClassOf rdf:resource="#Functions"/>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The max number of steps to make.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg4"/>
      </spl:Argument>
    </spin:constraint>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Visits a given column ?arg2 of Table ?arg1 with a given spr:AggregatorStepFunction (?arg5) and then calls itself recursively until the last value index (?arg4) has been reached. ?arg6 is the result of the previous step.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The current step index.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The row to iterate over.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >value</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:cell>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
              </spr:cell>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >next</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >arg6</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spif:invoke>
                    <sp:arg3 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >value</sp:varName>
                    </sp:arg3>
                    <sp:arg2 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >arg6</sp:varName>
                    </sp:arg2>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg5"/>
                  </spif:invoke>
                </sp:arg2>
                <sp:arg1>
                  <sp:bound>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >value</sp:varName>
                    </sp:arg1>
                  </sp:bound>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >next</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spr:visitCol>
                    <sp:arg6 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >next</sp:varName>
                    </sp:arg6>
                    <sp:arg5 rdf:resource="http://spinrdf.org/spin#_arg5"/>
                    <sp:arg4 rdf:resource="http://spinrdf.org/spin#_arg4"/>
                    <sp:arg3>
                      <sp:add>
                        <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                        >1</sp:arg2>
                        <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                      </sp:add>
                    </sp:arg3>
                    <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                  </spr:visitCol>
                </sp:arg2>
                <sp:arg1>
                  <sp:lt>
                    <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg4"/>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                  </sp:lt>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to iterate over.</rdfs:comment>
        <spl:valueType rdf:resource="#Table"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >visit row</rdfs:label>
  </spin:Function>
  <spin:Function rdf:ID="visitRow">
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The max number of steps to make.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg4"/>
      </spl:Argument>
    </spin:constraint>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >visit row</rdfs:label>
    <rdfs:subClassOf rdf:resource="#Functions"/>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The current aggregate value.</rdfs:comment>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg6"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The row to iterate over.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Collection">
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >value</sp:varName>
            </sp:variable>
            <sp:expression>
              <spr:cell>
                <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
              </spr:cell>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >next</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >arg6</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spif:invoke>
                    <sp:arg3 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >value</sp:varName>
                    </sp:arg3>
                    <sp:arg2 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >arg6</sp:varName>
                    </sp:arg2>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg5"/>
                  </spif:invoke>
                </sp:arg2>
                <sp:arg1>
                  <sp:bound>
                    <sp:arg1 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >value</sp:varName>
                    </sp:arg1>
                  </sp:bound>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
          <sp:Bind>
            <sp:variable rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >result</sp:varName>
            </sp:variable>
            <sp:expression>
              <sp:if>
                <sp:arg3 rdf:parseType="Resource">
                  <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                  >next</sp:varName>
                </sp:arg3>
                <sp:arg2>
                  <spr:visitRow>
                    <sp:arg6 rdf:parseType="Resource">
                      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
                      >next</sp:varName>
                    </sp:arg6>
                    <sp:arg5 rdf:resource="http://spinrdf.org/spin#_arg5"/>
                    <sp:arg4 rdf:resource="http://spinrdf.org/spin#_arg4"/>
                    <sp:arg3>
                      <sp:add>
                        <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                        >1</sp:arg2>
                        <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                      </sp:add>
                    </sp:arg3>
                    <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg2"/>
                    <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg1"/>
                  </spr:visitRow>
                </sp:arg2>
                <sp:arg1>
                  <sp:lt>
                    <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg4"/>
                    <sp:arg1>
                      <sp:add>
                        <sp:arg2 rdf:datatype="http://www.w3.org/2001/XMLSchema#integer"
                        >1</sp:arg2>
                        <sp:arg1 rdf:resource="http://spinrdf.org/spin#_arg3"/>
                      </sp:add>
                    </sp:arg1>
                  </sp:lt>
                </sp:arg1>
              </sp:if>
            </sp:expression>
          </sp:Bind>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Visits a given row ?arg2 of Table ?arg1 with a given spr:AggregatorStepFunction (?arg5) and then calls itself recursively until the last value index (?arg4) has been reached. ?arg6 is the result of the previous step.</rdfs:comment>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The current step index.</rdfs:comment>
        <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The step function.</rdfs:comment>
        <spl:valueType rdf:resource="http://spinrdf.org/spin#Function"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg5"/>
      </spl:Argument>
    </spin:constraint>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to iterate over.</rdfs:comment>
        <spl:valueType rdf:resource="#Table"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
  </spin:Function>
  <rdf:Description rdf:nodeID="A0">
    <sp:subject rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >tableClass</sp:varName>
    </sp:subject>
    <sp:predicate rdf:resource="#cellFunction"/>
    <sp:object rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >function</sp:varName>
    </sp:object>
  </rdf:Description>
  <rdf:Description rdf:nodeID="A1">
    <sp:subject rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >tableClass</sp:varName>
    </sp:subject>
    <sp:predicate rdf:resource="#rowCountFunction"/>
    <sp:object rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >function</sp:varName>
    </sp:object>
  </rdf:Description>
  <rdf:Description rdf:nodeID="A2">
    <rdf:rest rdf:parseType="Collection">
      <sp:Bind>
        <sp:variable rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >result</sp:varName>
        </sp:variable>
        <sp:expression>
          <spif:invoke>
            <sp:arg4 rdf:resource="http://spinrdf.org/spin#_arg3"/>
            <sp:arg3 rdf:resource="http://spinrdf.org/spin#_arg2"/>
            <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:arg1 rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:arg1>
          </spif:invoke>
        </sp:expression>
      </sp:Bind>
    </rdf:rest>
    <rdf:first rdf:nodeID="A0"/>
  </rdf:Description>
  <sp:Bind rdf:nodeID="A3">
    <sp:variable rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >result</sp:varName>
    </sp:variable>
    <sp:expression>
      <spif:invoke>
        <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
        <sp:arg1 rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >function</sp:varName>
        </sp:arg1>
      </spif:invoke>
    </sp:expression>
  </sp:Bind>
  <rdf:Description rdf:nodeID="A4">
    <rdf:rest rdf:parseType="Collection">
      <sp:Bind rdf:nodeID="A3"/>
    </rdf:rest>
    <rdf:first rdf:nodeID="A1"/>
  </rdf:Description>
  <rdf:Description rdf:nodeID="A5">
    <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >result</sp:varName>
  </rdf:Description>
  <spin:Function rdf:ID="rowCount">
    <rdfs:subClassOf rdf:resource="#RowCountFunctions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >row count</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the number of rows in a given table.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
    <spin:body>
      <sp:Select>
        <sp:where rdf:parseType="Resource">
          <rdf:rest rdf:nodeID="A4"/>
          <rdf:first rdf:parseType="Resource">
            <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
            <sp:object rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >tableClass</sp:varName>
            </sp:object>
          </rdf:first>
        </sp:where>
        <sp:resultVariables rdf:parseType="Collection">
          <rdf:Description>
            <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
            >result</sp:varName>
          </rdf:Description>
        </sp:resultVariables>
      </sp:Select>
    </spin:body>
  </spin:Function>
  <sp:Select rdf:nodeID="A6">
    <sp:where rdf:parseType="Collection">
      <rdf:Description>
        <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
        <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
        <sp:object rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >tableClass</sp:varName>
        </sp:object>
      </rdf:Description>
      <rdf:Description>
        <sp:subject rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >tableClass</sp:varName>
        </sp:subject>
        <sp:predicate rdf:resource="#colCountFunction"/>
        <sp:object rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >function</sp:varName>
        </sp:object>
      </rdf:Description>
      <sp:Bind>
        <sp:variable rdf:parseType="Resource">
          <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
          >result</sp:varName>
        </sp:variable>
        <sp:expression>
          <spif:invoke>
            <sp:arg2 rdf:resource="http://spinrdf.org/spin#_arg1"/>
            <sp:arg1 rdf:parseType="Resource">
              <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
              >function</sp:varName>
            </sp:arg1>
          </spif:invoke>
        </sp:expression>
      </sp:Bind>
    </sp:where>
    <sp:resultVariables rdf:parseType="Collection">
      <rdf:Description rdf:nodeID="A5"/>
    </sp:resultVariables>
  </sp:Select>
  <spl:Argument rdf:nodeID="A7">
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The table to get the number of columns of.</rdfs:comment>
    <spl:valueType rdf:resource="#TableClass"/>
    <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
  </spl:Argument>
  <rdf:Description rdf:nodeID="A8">
    <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >tableClass</sp:varName>
  </rdf:Description>
  <rdf:Description rdf:nodeID="A9">
    <rdf:rest rdf:nodeID="A2"/>
    <rdf:first rdf:parseType="Resource">
      <sp:subject rdf:resource="http://spinrdf.org/spin#_arg1"/>
      <sp:predicate rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"/>
      <sp:object rdf:nodeID="A8"/>
    </rdf:first>
  </rdf:Description>
  <rdf:Description rdf:nodeID="A10">
    <rdf:rest rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
    <rdf:first rdf:parseType="Resource">
      <sp:varName rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
      >result</sp:varName>
    </rdf:first>
  </rdf:Description>
  <sp:Select rdf:nodeID="A11">
    <sp:where rdf:nodeID="A9"/>
    <sp:resultVariables rdf:nodeID="A10"/>
  </sp:Select>
  <spin:Function rdf:ID="ColCountFunctions">
    <rdfs:subClassOf rdf:resource="#Functions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Column count functions</rdfs:label>
    <spin:constraint rdf:nodeID="A7"/>
    <spin:abstract rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
    >true</spin:abstract>
  </spin:Function>
  <spl:Argument rdf:nodeID="A12">
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The column index, starting at 0.</rdfs:comment>
    <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
    <spl:predicate rdf:resource="http://spinrdf.org/sp#arg3"/>
  </spl:Argument>
  <spl:Argument rdf:nodeID="A13">
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >The row index, starting at 0.</rdfs:comment>
    <spl:valueType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
    <spl:predicate rdf:resource="http://spinrdf.org/sp#arg2"/>
  </spl:Argument>
  <spin:Function rdf:ID="colCount">
    <rdfs:subClassOf rdf:resource="#ColCountFunctions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >column count</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the number of columns of a given result set.</rdfs:comment>
    <spin:returnType rdf:resource="http://www.w3.org/2001/XMLSchema#integer"/>
    <spin:body rdf:nodeID="A6"/>
  </spin:Function>
  <spin:Function rdf:ID="cell">
    <rdfs:subClassOf rdf:resource="#CellFunctions"/>
    <rdfs:label rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >cell</rdfs:label>
    <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
    >Gets the cell value of a given Table (?arg1) at a given row (?arg2) and column (?arg3).</rdfs:comment>
    <spin:constraint rdf:nodeID="A12"/>
    <spin:constraint rdf:nodeID="A13"/>
    <spin:constraint>
      <spl:Argument>
        <rdfs:comment rdf:datatype="http://www.w3.org/2001/XMLSchema#string"
        >The spr:Table to get the cell value of.</rdfs:comment>
        <spl:valueType rdf:resource="#Table"/>
        <spl:predicate rdf:resource="http://spinrdf.org/sp#arg1"/>
      </spl:Argument>
    </spin:constraint>
    <spin:body rdf:nodeID="A11"/>
  </spin:Function>
</rdf:RDF>

<!-- Created with TopBraid -->
